"use strict";(self.webpackChunkscnsoft_website=self.webpackChunkscnsoft_website||[]).push([[4222],{64222:(t,e,i)=>{i.r(e),i.d(e,{default:()=>E});var s=i(4002),a=i.n(s),n=i(144),o=i(31955),c=i(79184),l=i(23493),h=i.n(l);function r(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class E{constructor(){r(this,"REQUIRED_ENGAGEMENT_SECONDS",60),r(this,"REQUIRED_ELEMENTS_CLICKS",2),r(this,"REQUIRED_ELEMENTS_TO_CLICK",["a","button",".js-track-click"]),r(this,"IGNORE_REQUIRED_ELEMENTS_TO_CLICK",[".owis-close-btn",".ep-close-btn"]),r(this,"OPTIONAL_SCROLL_DEPTH_PERCENT",25),r(this,"OPTIONAL_ELEMENT_CLICKS",1),r(this,"OPTIONAL_ELEMENT_CLICK_SELECTORS",[".a-additional-information__more-item",".cl-item-title",".a-cards-for-grouping_content-expand-title",".a-collapsible_headline",".routing-visitors-block",".a-service-cards_content-expand-title",".spt-box-item",".sv-item-link.btn-expand",".cf-wrapper",".testimonial-cards a",".testimonial-cards button",".t-igt",'a[href^="mailto:"]','a[href^="tel:"]']),r(this,"NOT_A_CLIENT_COPY_TRIES",5),r(this,"NOT_A_CLIENT_CONTEXT_MENU_TRIES",5),r(this,"NOT_A_CLIENT_ACTION_INTERVAL_CLEAR_SEC",180),r(this,"storageData",{}),r(this,"$body",null),r(this,"_disableListenerCallbacks",[]),this.sentMayBecomeClient=+o.Z.get("may_become_client"),this.sentNotAClient=+o.Z.get("not_a_client"),editmode||this.sentNotAClient||(this.$body=a()("body"),this.storageData=this.getData(),this.sentMayBecomeClient||(this.initRequiredClicks(),this.initOptionalClicks(),this.initCSDynamicViewed(),this.initTechnologiesEngagement(),this.initContactInfoSelect(),this.initLCEngagement(),this.initSpecificPageVisit(),n.default.addListener((()=>(this.tryToRunMayBecomeClientEvent(),this.sentMayBecomeClient)))),this.initCareerPage(),this.initJournalistPage(),this.initCompetitorCheck())}tryToRunMayBecomeClientEvent(){if(this.sentMayBecomeClient||this.sentNotAClient)return;const t=n.default.sessionEngagementTimeSeconds>=this.REQUIRED_ENGAGEMENT_SECONDS,e=this.storageData.sessionRequiredElementClicks>=this.REQUIRED_ELEMENTS_CLICKS,i=n.default.sessionMaxScrollPercent>=this.OPTIONAL_SCROLL_DEPTH_PERCENT,s=this.storageData.sessionOptionalElementClicks>=this.OPTIONAL_ELEMENT_CLICKS,a=this.storageData.csDynamicViewed,l=this.storageData.technologiesPopupShowed,h=this.storageData.contactInfoSelect,r=this.storageData.LCEngagement,E=this.storageData.specificPageVisit;t&&e&&(i||s||a||l||h||r||E)&&(this._disableListenerCallbacks.forEach((t=>t())),this.sentMayBecomeClient=!0,scheduler.postTask((()=>{(0,c.L9)("Site","session","event","May Become Client",{trackGtag:!0,addDelay:!1,addGtagDelay:!1}),o.Z.set("may_become_client",1)})))}runNotAClientEvent(){this.sentNotAClient||setTimeout((()=>{o.Z.set("not_a_client",1),this.sentMayBecomeClient&&(0,c.L9)("Site","session","event","Not a Client",{trackGtag:!0}),this._disableListenerCallbacks.forEach((t=>t())),this.sentNotAClient=!0}),100)}initCompetitorCheck(){const t=h()((()=>{this.storageData.copyTries++,this.saveData(this.storageData),this.storageData.copyTries>=this.NOT_A_CLIENT_COPY_TRIES&&this.runNotAClientEvent()}),5e3);document.addEventListener("copy",t),this._disableListenerCallbacks.push((()=>document.removeEventListener("copy",t)));const e=h()((()=>{this.storageData.contextmenuTries++,this.saveData(this.storageData),this.storageData.contextmenuTries>=this.NOT_A_CLIENT_CONTEXT_MENU_TRIES&&this.runNotAClientEvent()}),3e3);document.addEventListener("contextmenu",e),this._disableListenerCallbacks.push((()=>document.removeEventListener("contextmenu",e)));let i=setInterval((()=>{this.storageData.copyTries=0,this.storageData.contextmenuTries=0,this.saveData(this.storageData)}),1e3*this.NOT_A_CLIENT_ACTION_INTERVAL_CLEAR_SEC);this._disableListenerCallbacks.push((()=>clearInterval(i)))}initCareerPage(){"Career Page"===pageType&&this.runNotAClientEvent()}initJournalistPage(){this.$body.find(".icp-journalists").length&&this.runNotAClientEvent()}initLCEngagement(){const t=()=>{this.storageData.LCEngagement=!0,this.saveData(this.storageData)};this.$body.on("own-with-intercom_open intercom_open",t),this._disableListenerCallbacks.push((()=>this.$body.off("own-with-intercom_open intercom_open",t)))}initContactInfoSelect(){const t=h()((()=>{a()(getSelection().anchorNode).closest('a[href^="mailto:"], a[href^="tel:"]').length&&(this.storageData.contactInfoSelect=!0,this.saveData(this.storageData))}),350);document.addEventListener("copy",t),this._disableListenerCallbacks.push((()=>document.removeEventListener("copy",t)))}initRequiredClicks(){const t=t=>{a()(t.currentTarget).closest(this.IGNORE_REQUIRED_ELEMENTS_TO_CLICK.join(", ")).length||(this.storageData.sessionRequiredElementClicks++,this.saveData(this.storageData))};this.$body.on("click",this.REQUIRED_ELEMENTS_TO_CLICK.join(", "),t),this._disableListenerCallbacks.push((()=>this.$body.off("click",this.REQUIRED_ELEMENTS_TO_CLICK.join(", "),t)))}initOptionalClicks(){const t=()=>{this.storageData.sessionOptionalElementClicks++,this.saveData(this.storageData)};this.$body.on("click",this.OPTIONAL_ELEMENT_CLICK_SELECTORS.join(", "),t),this._disableListenerCallbacks.push((()=>this.$body.off("click",this.OPTIONAL_ELEMENT_CLICK_SELECTORS.join(", "),t)))}initCSDynamicViewed(){const t=()=>{this.storageData.csDynamicViewed=!0,this.saveData(this.storageData)};this.$body.on("cs-dynamic_20sec_viewed",t),this._disableListenerCallbacks.push((()=>this.$body.off("cs-dynamic_20sec_viewed",t)))}initTechnologiesEngagement(){const t=()=>{this.storageData.technologiesPopupShowed=!0,this.saveData(this.storageData)};this.$body.on("technologies_popup_showed",t),this._disableListenerCallbacks.push((()=>this.$body.off("technologies_popup_showed",t)))}initSpecificPageVisit(){const t=window.location.pathname.split("/").pop()+"",e=t.includes("pricing")&&["How we work","Configurator"].includes(pageType),i="Configurator"===pageType,s="Case Study"===pageType,a=(t.includes("about")||t.includes("company"))&&"About Company"===pageType,n=t.includes("locations")&&"About Company"===pageType,o="Contact Page"===pageType,c="Home Page"===pageType,l=t.includes("testimonials")&&"About Company"===pageType;(e||i||s||a||n||o||c||l)&&(this.storageData.specificPageVisit=!0,this.saveData(this.storageData))}saveData(t){localStorage&&localStorage.setItem("appMayBecomeClientData",JSON.stringify(t)),this.tryToRunMayBecomeClientEvent()}getData(){const t=localStorage&&localStorage.getItem("appMayBecomeClientData");return t?JSON.parse(t):{sessionRequiredElementClicks:0,sessionOptionalElementClicks:0,csDynamicViewed:!1,technologiesPopupShowed:!1,contactInfoSelect:!1,LCEngagement:!1,specificPageVisit:!1,copyTries:0,contextmenuTries:0}}}}}]);